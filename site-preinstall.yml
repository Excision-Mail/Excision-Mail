---
- name: Install/Upgrade Excision Mail pre-requisites

  hosts:
    - mainserver

  vars_files:
    - defaults.yml
    - vars.yml
    - extrapolate.yml
    - overrides.yml

  roles:
    - role: base
      tags:
        - 'base'
    - role: pf
      tags:
        - 'base'
        - 'pf'
      when: enable_pf
    - role: syslog
      tags:
        - 'base'
        - 'syslog'
      when: enable_syslog
    - role: zones
      tags:
        - 'zones'
        - 'dns'
    - role: knot
      tags:
        - 'dns'
      when: enable_dns
